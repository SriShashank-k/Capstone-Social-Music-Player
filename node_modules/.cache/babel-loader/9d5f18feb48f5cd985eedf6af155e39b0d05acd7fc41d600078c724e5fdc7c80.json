{"ast":null,"code":"var _jsxFileName = \"/Users/shashank/Downloads/music-player-app-fixed-working/src/components/TrackSearch.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport Player from './Player';\nimport ChatBox from './ChatBox';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TrackSearch = ({\n  token\n}) => {\n  _s();\n  var _trackInfo$album$imag, _trackInfo$artists$;\n  const [query, setQuery] = useState('');\n  const [trackInfo, setTrackInfo] = useState(null);\n  const [currentTrack, setCurrentTrack] = useState(null);\n  const searchTrack = async () => {\n    if (!query.trim()) return;\n    try {\n      const res = await axios.get('https://api.spotify.com/v1/search', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        },\n        params: {\n          q: query,\n          type: 'track',\n          limit: 1\n        }\n      });\n      const item = res.data.tracks.items[0];\n      if (item) {\n        setTrackInfo(item);\n        setCurrentTrack({\n          name: item.name,\n          artists: [{\n            name: item.artists[0].name\n          }]\n        });\n      } else {\n        setTrackInfo(null);\n        setCurrentTrack(null);\n      }\n    } catch (error) {\n      console.error('Search error:', error);\n      setTrackInfo(null);\n      setCurrentTrack(null);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 text-white max-w-3xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-bold mb-4\",\n      children: \"\\uD83D\\uDD0D Search Track by Name\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-2 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter song name\",\n        value: query,\n        onChange: e => setQuery(e.target.value),\n        className: \"flex-grow p-2 rounded bg-gray-900 text-white text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: searchTrack,\n        className: \"bg-green-600 px-4 rounded hover:bg-green-700 text-sm\",\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), trackInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-800 p-4 rounded shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-2\",\n        children: trackInfo.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-300\",\n        children: [\"Artist: \", trackInfo.artists.map(a => a.name).join(', ')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: (_trackInfo$album$imag = trackInfo.album.images[0]) === null || _trackInfo$album$imag === void 0 ? void 0 : _trackInfo$album$imag.url,\n        alt: trackInfo.name,\n        className: \"w-32 h-32 object-cover rounded mt-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this), currentTrack && /*#__PURE__*/_jsxDEV(Player, {\n      track: currentTrack,\n      setCurrentTrack: setCurrentTrack\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this), trackInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8\",\n      children: /*#__PURE__*/_jsxDEV(ChatBox, {\n        songId: trackInfo.id,\n        currentUserName: (_trackInfo$artists$ = trackInfo.artists[0]) === null || _trackInfo$artists$ === void 0 ? void 0 : _trackInfo$artists$.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(TrackSearch, \"kkTZaz9rsJrmaHEYkKv1o0mnCyU=\");\n_c = TrackSearch;\nexport default TrackSearch;\nvar _c;\n$RefreshReg$(_c, \"TrackSearch\");","map":{"version":3,"names":["React","useState","axios","Player","ChatBox","jsxDEV","_jsxDEV","TrackSearch","token","_s","_trackInfo$album$imag","_trackInfo$artists$","query","setQuery","trackInfo","setTrackInfo","currentTrack","setCurrentTrack","searchTrack","trim","res","get","headers","Authorization","params","q","type","limit","item","data","tracks","items","name","artists","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","onClick","map","a","join","src","album","images","url","alt","track","songId","id","currentUserName","_c","$RefreshReg$"],"sources":["/Users/shashank/Downloads/music-player-app-fixed-working/src/components/TrackSearch.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport Player from './Player';\nimport ChatBox from './ChatBox';\n\nconst TrackSearch = ({ token }) => {\n  const [query, setQuery] = useState('');\n  const [trackInfo, setTrackInfo] = useState(null);\n  const [currentTrack, setCurrentTrack] = useState(null);\n\n  const searchTrack = async () => {\n    if (!query.trim()) return;\n\n    try {\n      const res = await axios.get('https://api.spotify.com/v1/search', {\n        headers: { Authorization: `Bearer ${token}` },\n        params: {\n          q: query,\n          type: 'track',\n          limit: 1,\n        },\n      });\n\n      const item = res.data.tracks.items[0];\n      if (item) {\n        setTrackInfo(item);\n        setCurrentTrack({\n          name: item.name,\n          artists: [{ name: item.artists[0].name }]\n        });\n      } else {\n        setTrackInfo(null);\n        setCurrentTrack(null);\n      }\n    } catch (error) {\n      console.error('Search error:', error);\n      setTrackInfo(null);\n      setCurrentTrack(null);\n    }\n  };\n\n  return (\n    <div className=\"p-6 text-white max-w-3xl mx-auto\">\n      <h2 className=\"text-xl font-bold mb-4\">üîç Search Track by Name</h2>\n\n      <div className=\"flex gap-2 mb-4\">\n        <input\n          type=\"text\"\n          placeholder=\"Enter song name\"\n          value={query}\n          onChange={(e) => setQuery(e.target.value)}\n          className=\"flex-grow p-2 rounded bg-gray-900 text-white text-sm\"\n        />\n        <button\n          onClick={searchTrack}\n          className=\"bg-green-600 px-4 rounded hover:bg-green-700 text-sm\"\n        >\n          Search\n        </button>\n      </div>\n\n      {trackInfo && (\n        <div className=\"bg-gray-800 p-4 rounded shadow\">\n          <h3 className=\"text-lg font-semibold mb-2\">{trackInfo.name}</h3>\n          <p className=\"text-gray-300\">Artist: {trackInfo.artists.map(a => a.name).join(', ')}</p>\n          <img\n            src={trackInfo.album.images[0]?.url}\n            alt={trackInfo.name}\n            className=\"w-32 h-32 object-cover rounded mt-2\"\n          />\n        </div>\n      )}\n\n      {currentTrack && (\n        <Player track={currentTrack} setCurrentTrack={setCurrentTrack} />\n      )}\n\n      {trackInfo && (\n        <div className=\"mt-8\">\n          <ChatBox songId={trackInfo.id} currentUserName={trackInfo.artists[0]?.name} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TrackSearch;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}